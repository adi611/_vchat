<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <title>Chat App</title>
  
  <style>

    #message-container {
      width: 90%;
      max-width: 1200px;
      height:70vh;
      overflow-y: scroll;
      border-bottom: 0.2px solid gray;
      display:flex;
      flex-direction: column;
    }

    #message-container div {
      background-color: #CCC;
      padding: 10px;
    }

    /* #message-container div:nth-child(2n) {
      background-color: rgb(230, 227, 227);
    } */

    #send-container {
      bottom: 0;
      background-color: white;
      max-width: 1200px;
      width: 80%;
      margin: auto;
      margin-top: 6vh;
    }

    .head{
      text-align: center;
      background-color: rgb(68, 67, 67);
      color: #FFF;
      margin-bottom: 10px;
    }
    #users{
      margin-bottom: 10px;
    }
    .message-element{
      word-wrap : break-word;
      margin-bottom : 10px;
      border-radius : 20px;
      width : fit-content;
      max-width : 65vw;
      position : relative;
    }
 
  </style>
</head>
<body>
  <div class="row">
    <div class="head col-sm-12 container-fluid"><h4>vchat</h4></div>
    <div id="users" class="col-sm-12"></div>
    <div id="message-container" class="container-fluid col-sm-12"></div>
    
  </div>
  <div class="col-sm-12 form">
    <form id="send-container" class="input-group mb-3">
      <input type="text" id="message-input" class="form-control" oninput="printTyping()">
      <button type="submit" id="send-button" class="btn btn-dark">Send</button>
    </form>
  </div>
  
  <script src="/socket.io/socket.io.js"></script>
  <script>

const _0x180d=['scrollTop','message','scrollHeight','alignSelf','show-typing','keyup','592724FNzkRy','906866lICkar','rgb(230,\x20227,\x20227)','room','append','145259yQxLGI','send-chat-message','\x20connected','getElementById','value','preventDefault','message-input','user-connected','You\x20joined','classList','name','innerText','1810180LzoVIU','message-container','backgroundColor','\x20disconnected','div','add','addEventListener','89953ulfuZC','users','3RNeuYR','show-users','928699rloPMx','submit','chat-message','send-container','createElement','style','475048tmZdHi','You:\x20','innerHTML','emit'];const _0x4095bb=_0x10c3;(function(_0x2ddd1b,_0x48f908){const _0x2d4fbf=_0x10c3;while(!![]){try{const _0x4a5577=-parseInt(_0x2d4fbf(0x16c))+-parseInt(_0x2d4fbf(0x15b))+parseInt(_0x2d4fbf(0x16b))+-parseInt(_0x2d4fbf(0x170))+parseInt(_0x2d4fbf(0x161))+-parseInt(_0x2d4fbf(0x159))*parseInt(_0x2d4fbf(0x157))+parseInt(_0x2d4fbf(0x150));if(_0x4a5577===_0x48f908)break;else _0x2ddd1b['push'](_0x2ddd1b['shift']());}catch(_0x1b32da){_0x2ddd1b['push'](_0x2ddd1b['shift']());}}}(_0x180d,0x99245));const socket=io(),userElement=document[_0x4095bb(0x173)](_0x4095bb(0x158)),messageContainer=document[_0x4095bb(0x173)](_0x4095bb(0x151)),messageForm=document[_0x4095bb(0x173)](_0x4095bb(0x15e)),messageInput=document['getElementById'](_0x4095bb(0x176));let typingTimer,doneTypingInterval=0x3e8;const name=prompt('What\x20is\x20your\x20name?'),room=prompt('Enter\x20room:');socket[_0x4095bb(0x164)]('new-user',{'name':name,'room':room}),appendMessage(_0x4095bb(0x14c),0x1),socket['on'](_0x4095bb(0x15d),_0x294abf=>{const _0x19e271=_0x4095bb;appendMessage(_0x294abf[_0x19e271(0x14e)]+':\x20'+_0x294abf[_0x19e271(0x166)],0x0);}),socket['on'](_0x4095bb(0x177),_0x2baedc=>{const _0x390ad9=_0x4095bb;appendMessage(_0x2baedc+_0x390ad9(0x172),0x0);}),socket['on']('user-disconnected',_0x3c7338=>{const _0x1c43df=_0x4095bb;appendMessage(_0x3c7338+_0x1c43df(0x153),0x0);}),socket['on']('current-users',(_0x3d5f71,_0x5c3a7e)=>{const _0x50f782=_0x4095bb;userElement['innerHTML']='Current\x20users\x20in\x20room\x20are:\x09';for(var _0x5b578b in _0x3d5f71){if(_0x3d5f71[_0x5b578b][_0x50f782(0x16e)]===_0x5c3a7e)appendUser(_0x3d5f71[_0x5b578b][_0x50f782(0x14e)]);}});function appendUser(_0x5a93cb){const _0x5bd98b=_0x4095bb;userElement[_0x5bd98b(0x163)]+=_0x5a93cb+',\x09',userElement[_0x5bd98b(0x160)]['textAlign']='center';}function _0x10c3(_0x185aa3,_0x469301){_0x185aa3=_0x185aa3-0x14c;let _0x180db4=_0x180d[_0x185aa3];return _0x180db4;}messageForm[_0x4095bb(0x156)](_0x4095bb(0x15c),_0x431e6b=>{const _0x1f8b9d=_0x4095bb;_0x431e6b[_0x1f8b9d(0x175)]();const _0x43bebc=messageInput[_0x1f8b9d(0x174)];_0x43bebc!=''?(appendMessage(_0x1f8b9d(0x162)+_0x43bebc,0x1),socket['emit'](_0x1f8b9d(0x171),_0x43bebc),messageInput[_0x1f8b9d(0x174)]=''):alert('Enter\x20text!');});function appendMessage(_0x4c5f7f,_0x42b92e){const _0xedaa67=_0x4095bb,_0x36bbc5=document[_0xedaa67(0x15f)](_0xedaa67(0x154));_0x36bbc5[_0xedaa67(0x14d)][_0xedaa67(0x155)]('message-element'),_0x36bbc5[_0xedaa67(0x14f)]=_0x4c5f7f,_0x42b92e===0x1&&(_0x36bbc5[_0xedaa67(0x160)][_0xedaa67(0x168)]='flex-end',_0x36bbc5[_0xedaa67(0x160)][_0xedaa67(0x152)]=_0xedaa67(0x16d)),messageContainer[_0xedaa67(0x16f)](_0x36bbc5),messageContainer[_0xedaa67(0x165)]=messageContainer[_0xedaa67(0x167)];}function printTyping(){const _0x3289d8=_0x4095bb;socket[_0x3289d8(0x164)]('user-typing');}socket['on'](_0x4095bb(0x169),()=>{showTyping();});function showTyping(){const _0x28875f=_0x4095bb;userElement[_0x28875f(0x163)]='typing...';}messageInput[_0x4095bb(0x156)](_0x4095bb(0x16a),()=>{clearTimeout(typingTimer),typingTimer=setTimeout(doneTyping,doneTypingInterval);});function doneTyping(){const _0x8e3cc9=_0x4095bb;socket[_0x8e3cc9(0x164)](_0x8e3cc9(0x15a));}



  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>